(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{4560:(t,e,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Authentication/Register",function(){return n(7111)}])},7111:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var i=n(4848),s=n(6540),o=n(6715),a=n(1468),r=n(1028),u=n(9026),c=n(1106),l=n.n(c),_=n(4523),p=n(2218),d=n.n(p),g=n(3110);let h=()=>{let{form:t}=r.Yv,e=(0,o.useRouter)(),n=(0,a.wA)(),[c,p]=(0,s.useState)(null),[h,m]=(0,s.useState)(null),b=async t=>{t.preventDefault(),p(null),m(null);let i=Object.fromEntries(new FormData(t.target).entries());try{await u.A.post("/register",i),m("Registration successful! Logging you in...");let{token:t,user:s}=(await u.A.post("/login",{identifier:i.username||i.email,password:i.password})).data;localStorage.setItem("token",t),(0,u.R)(),n((0,_.iD)({token:t,user:s})),e.push("/")}catch(t){if(t instanceof g.pe){var s,o;p((null===(o=t.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.message)||"Something went wrong.")}else p("An unexpected error occurred.")}};return(0,i.jsxs)("div",{className:d()["register-container"],children:[(0,i.jsxs)("form",{onSubmit:b,children:[t.fields.map((t,e)=>(0,i.jsx)("div",{className:"row"===t.layout?d()["input-group-row"]:d()["input-group-single"],children:t.inputs.map((t,e)=>(0,i.jsx)("div",{className:d()["input-group"],children:(0,i.jsx)("input",{type:t.type,id:t.id,placeholder:t.placeholder,name:t.name,required:t.required,className:d()["input-field"]})},e))},e)),(0,i.jsx)("button",{type:t.submitButton.type,className:d()[t.submitButton.className],children:t.submitButton.text})]}),c&&(0,i.jsx)("div",{className:d()["error-message"],children:c}),h&&(0,i.jsx)("div",{className:d()["success-message"],children:h}),(0,i.jsx)("div",{className:"".concat(d().options," ").concat(d()["Register-options"]),children:t.options.map((t,e)=>(0,i.jsx)(l(),{href:t.to,className:d()[t.className],children:t.text},e))})]})}},2218:t=>{t.exports={"login-container":"Authentication_login-container__T7TTN","password-recovery-container":"Authentication_password-recovery-container__V2FyD","input-group":"Authentication_input-group__6bVlM","back-button-and-heading":"Authentication_back-button-and-heading__5MuJX","back-icon":"Authentication_back-icon__Fk7Z_","login-btn":"Authentication_login-btn__Bl1Xj","submit-btn":"Authentication_submit-btn__PZDJ4",options:"Authentication_options__3WDUQ","register-container":"Authentication_register-container__1B83Y","input-group-row":"Authentication_input-group-row__i78WI","input-field":"Authentication_input-field__nlaR6","register-btn":"Authentication_register-btn__xD6E0","Register-options":"Authentication_Register-options___KXuS","login-account":"Authentication_login-account__yR37V","google-auth-container":"Authentication_google-auth-container__VEpE3","error-message":"Authentication_error-message__HVY3V","success-message":"Authentication_success-message__vGOVv"}},3110:(t,e,n)=>{"use strict";n.d(e,{pe:()=>s});let{Axios:i,AxiosError:s,CanceledError:o,isCancel:a,CancelToken:r,VERSION:u,all:c,Cancel:l,isAxiosError:_,spread:p,toFormData:d,AxiosHeaders:g,HttpStatusCode:h,formToJSON:m,getAdapter:b,mergeConfig:A}=n(4335).A}},t=>{var e=e=>t(t.s=e);t.O(0,[636,593,792],()=>e(4560)),_N_E=t.O()}]);