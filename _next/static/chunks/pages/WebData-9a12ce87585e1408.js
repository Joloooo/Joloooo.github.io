(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{992:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/WebData",function(){return n(3261)}])},3261:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>o});var t=n(4848),a=n(6540),r=n(9026),l=n(4042),i=n.n(l);let o=()=>{var e;let[s,n]=(0,a.useState)("users"),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[p,v]=(0,a.useState)(null),[_,m]=(0,a.useState)("name"),[x,j]=(0,a.useState)(""),[b,g]=(0,a.useState)(1),[f,N]=(0,a.useState)(10),y=async(e,s)=>{d(!0);try{let n=await r.A.get(e);s(n.data)}catch(n){console.error("Error fetching data from ".concat(e,":"),n),s({error:"Failed to fetch data."})}finally{d(!1)}};(0,a.useEffect)(()=>{"persons"===s&&k()},[f,b]);let S=e=>{N(e),g(1)},k=async()=>{if(x){d(!0);try{let e=await r.A.get("/persons",{params:{searchType:_,searchValue:x,limit:f,skip:(b-1)*f}});o({results:e.data.results,total:e.data.total})}catch(e){console.error("Error performing search:",e),o({error:"Search failed. Please try again."})}finally{d(!1)}}};return(0,a.useEffect)(()=>{"users"===s?y("/users",h):"logs"===s?y("/logs",v):"persons"===s&&o(null)},[s]),(0,t.jsxs)("div",{className:"left-sided-menu",children:[(0,t.jsxs)("div",{className:"left-sided-menu-navbar",children:[(0,t.jsx)("button",{className:"left-sided-menu-navbar-button",onClick:()=>n("users"),children:"Users"}),(0,t.jsx)("button",{className:"left-sided-menu-navbar-button",onClick:()=>n("logs"),children:"Logged Data"}),(0,t.jsx)("button",{className:"left-sided-menu-navbar-button",onClick:()=>n("persons"),children:"Persons"})]}),(0,t.jsxs)("div",{className:i()["person-entire-div"],children:["users"===s&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Users Data"}),c?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("pre",{children:JSON.stringify(u,null,2)})]}),"logs"===s&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Logged Data"}),c?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("pre",{children:JSON.stringify(p,null,2)})]}),"persons"===s&&(0,t.jsxs)("div",{className:i()["person-entire-div"],children:[(0,t.jsx)("h1",{className:i()["person-heading"],children:"Search Database"}),(0,t.jsxs)("div",{className:i()["entire-person-search-section"],children:[(0,t.jsxs)("div",{className:i()["first-level-search-section"],children:[(0,t.jsx)("label",{htmlFor:"searchType",className:i()["search-label"],children:"Search by:"}),(0,t.jsxs)("select",{className:i()["type-selector"],id:"searchType",value:_,onChange:e=>m(e.target.value),children:[(0,t.jsx)("option",{value:"name",children:"Full Name"}),(0,t.jsx)("option",{value:"pn",children:"ID"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"mobile",children:"Mobile"})]}),(0,t.jsx)("input",{className:"input-group ".concat(i()["person-search-input"]),type:"text",placeholder:"Enter ".concat(_),value:x,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&k()}}),(0,t.jsx)("button",{className:"black-over-white-button ".concat(i()["person-search-button"]),onClick:k,children:"Search"})]}),(0,t.jsxs)("div",{className:i()["second-level-menu"],children:[(0,t.jsxs)("div",{className:"options-menu",children:[(0,t.jsx)("label",{children:"Show:"}),(0,t.jsxs)("select",{value:f,onChange:e=>S(Number(e.target.value)),children:[(0,t.jsx)("option",{value:5,children:"5"}),(0,t.jsx)("option",{value:10,children:"10"}),(0,t.jsx)("option",{value:15,children:"15"}),(0,t.jsx)("option",{value:20,children:"20"})]}),(0,t.jsx)("span",{children:"results per page"})]}),(null==l?void 0:l.total)!==void 0&&(0,t.jsxs)("p",{children:["Found ",l.total," results."]})]})]}),(0,t.jsx)("hr",{}),c?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsxs)("div",{children:[null==l?void 0:null===(e=l.results)||void 0===e?void 0:e.map((e,s)=>(0,t.jsx)("div",{className:"person-div",children:Object.entries(e).map(e=>{let[s,n]=e;return(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:[s,":"]})," ","object"==typeof n?JSON.stringify(n):String(n)]},s)})},s)),(null==l?void 0:l.total)>f&&(0,t.jsxs)("div",{className:"pagination",children:[(0,t.jsx)("button",{hidden:1===b,className:"pagination-button",onClick:()=>{g(b-1),k()},children:"Previous"}),Array.from({length:Math.ceil(l.total/f)},(e,s)=>s+1).filter(e=>b<=5?e<=10:e>=b-5&&e<=b+4).map(e=>(0,t.jsx)("button",{onClick:()=>{g(e),k()},className:"pagination-button ".concat(b===e?"current":""),children:e},e)),(0,t.jsx)("button",{hidden:b===Math.ceil(l.total/f),className:"pagination-button",onClick:()=>{g(b+1),k()},children:"Next"})]})]})]})]})]})}},4042:e=>{e.exports={"person-entire-div":"persons_person-entire-div__hvlmX","entire-person-search-section":"persons_entire-person-search-section__6YuTq","person-heading":"persons_person-heading__TCqAA","first-level-search-section":"persons_first-level-search-section__9JGK9","type-selector":"persons_type-selector__bbzVJ","person-search-input":"persons_person-search-input__wtRVh","person-search-button":"persons_person-search-button__WQLEs","second-level-menu":"persons_second-level-menu__Kba5t","left-sided-menu-navbar":"persons_left-sided-menu-navbar__U_EVW","left-sided-menu-navbar-button":"persons_left-sided-menu-navbar-button__UgD0V","options-menu":"persons_options-menu__k5p4P",pagination:"persons_pagination__nEpoJ","pagination-button":"persons_pagination-button__68aIQ",current:"persons_current__qvK_Z","person-div":"persons_person-div__shRZg"}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(992)),_N_E=e.O()}]);